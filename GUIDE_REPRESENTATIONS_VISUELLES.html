<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guide Visuel - R√©seau SONAGED</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, sans-serif;
            background: #f5f7fa;
            padding: 20px;
        }
        .container { max-width: 1400px; margin: 0 auto; background: white; border-radius: 12px; padding: 30px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        h1 { color: #2d5016; margin-bottom: 10px; display: flex; align-items: center; gap: 15px; font-size: 32px; }
        .subtitle { color: #666; margin-bottom: 30px; font-size: 16px; }
        .guide-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 40px; }
        .guide-card {
            border-left: 5px solid;
            padding: 20px;
            border-radius: 8px;
            background: #fafafa;
            transition: transform 0.2s;
        }
        .guide-card:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .guide-card h2 { font-size: 18px; margin-bottom: 12px; display: flex; align-items: center; gap: 10px; }
        .guide-card p { font-size: 14px; color: #555; line-height: 1.6; margin-bottom: 10px; }
        .guide-card ul { font-size: 14px; margin-left: 20px; color: #555; }
        .guide-card ul li { margin-bottom: 6px; }

        /* Couleurs par cat√©gorie */
        .administratif { border-left-color: #a47158; background: rgba(164,113,88,0.08); }
        .collecte { border-left-color: #c43c39; background: rgba(196,60,57,0.08); }
        .balayage { border-left-color: #987bb7; background: rgba(152,125,183,0.08); }
        .mobilier { border-left-color: #48cb51; background: rgba(72,203,81,0.08); }

        .legend-item { display: flex; align-items: center; gap: 12px; margin-bottom: 15px; }
        .legend-icon { width: 40px; height: 40px; border-radius: 4px; flex-shrink: 0; display: flex; align-items: center; justify-content: center; }
        .polygon-icon { border: 3px solid; opacity: 0.6; }
        .line-icon { border-top: 3px solid; width: 100%; }
        .point-icon { border-radius: 50%; }

        #map { width: 100%; height: 600px; border-radius: 8px; margin-bottom: 30px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }

        .comparison-table { width: 100%; border-collapse: collapse; margin-top: 30px; }
        .comparison-table th { background: #2d5016; color: white; padding: 15px; text-align: left; font-weight: 600; }
        .comparison-table td { padding: 15px; border-bottom: 1px solid #e0e0e0; }
        .comparison-table tr:hover { background: #f9f9f9; }
        .comparison-table tr:nth-child(even) { background: #fafafa; }

        .info-banner { background: #e3f2fd; border-left: 4px solid #2196f3; padding: 18px; margin: 20px 0; border-radius: 4px; color: #1565c0; }
        .success-banner { background: #c8e6c9; border-left: 4px solid #4caf50; padding: 18px; margin: 20px 0; border-radius: 4px; color: #2e7d32; }

        .feature-showcase { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 40px; }
        .feature-showcase > div { padding: 20px; background: white; border-radius: 8px; border: 1px solid #e0e0e0; }
        .feature-showcase h3 { color: #2d5016; margin-bottom: 15px; font-size: 16px; }
        .mini-legend { font-size: 13px; color: #666; line-height: 1.8; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üó∫Ô∏è Guide Visuel - R√©seau National SONAGED</h1>
        <p class="subtitle">Comprendre les repr√©sentations sur la carte g√©ospatiale</p>

        <div class="success-banner">
            ‚úÖ <strong>Int√©gration compl√®te!</strong> Les 6 couches GeoJSON sont actives avec leurs repr√©sentations visuelles correctes.
        </div>

        <h2 style="color: #2d5016; margin: 30px 0 20px; font-size: 24px;">üìä Les 6 Couches de Donn√©es</h2>

        <div class="guide-grid">
            <!-- R√âGIONS -->
            <div class="guide-card administratif">
                <h2>üü§ R√©gions</h2>
                <p><strong>Fichier:</strong> Region_3.js (1.6 MB)</p>
                <p><strong>Type:</strong> Polygones (MultiPolygon)</p>
                <p><strong>Couleur:</strong> Marron transparente</p>
                <ul>
                    <li>‚úÖ Affichage: Remplis avec bordure</li>
                    <li>‚úÖ Labels: Noms des r√©gions au centro√Øde</li>
                    <li>‚úÖ Interaction: Survol (poids border +1.5)</li>
                    <li>‚úÖ Popup: D√©tails administratifs</li>
                </ul>
            </div>

            <!-- D√âPARTEMENTS -->
            <div class="guide-card administratif">
                <h2>üü£ D√©partements</h2>
                <p><strong>Fichier:</strong> Departement_4.js (2.5 MB)</p>
                <p><strong>Type:</strong> Polygones (MultiPolygon)</p>
                <p><strong>Couleur:</strong> Magenta transparente</p>
                <ul>
                    <li>‚úÖ Affichage: Remplis avec bordure</li>
                    <li>‚úÖ Hi√©rarchie: Second niveau admin</li>
                    <li>‚úÖ Interaction: Survol + poids border</li>
                    <li>‚úÖ Popup: Infos d√©partement</li>
                </ul>
            </div>

            <!-- ARRONDISSEMENTS -->
            <div class="guide-card administratif">
                <h2>üü™ Arrondissements</h2>
                <p><strong>Fichier:</strong> Arrondissement_5.js (3.6 MB)</p>
                <p><strong>Type:</strong> Polygones (MultiPolygon)</p>
                <p><strong>Couleur:</strong> Violet transparente</p>
                <ul>
                    <li>‚úÖ Affichage: Remplis avec bordure noire</li>
                    <li>‚úÖ Hi√©rarchie: Niveau admin le plus fin</li>
                    <li>‚úÖ Interaction: Survol + poids border</li>
                    <li>‚úÖ Popup: Infos arrondissement</li>
                </ul>
            </div>

            <!-- CIRCUITS COLLECTE -->
            <div class="guide-card collecte">
                <h2>üî¥ Circuits Collecte</h2>
                <p><strong>Fichier:</strong> CollecteNational_6.js (5.0 MB)</p>
                <p><strong>Type:</strong> Lignes (MultiLineString)</p>
                <p><strong>Couleur:</strong> Rouge</p>
                <ul>
                    <li>‚úÖ Affichage: Lignes √©paisses</li>
                    <li>‚úÖ Style: Cap carr√©, jointure bevel</li>
                    <li>‚úÖ Interaction: Survol (+poids)</li>
                    <li>‚úÖ Popup: Itin√©raire, fr√©quence, rotation</li>
                </ul>
            </div>

            <!-- CIRCUITS BALAYAGE -->
            <div class="guide-card balayage">
                <h2>üü£ Circuits Balayage</h2>
                <p><strong>Fichier:</strong> BalayageNational_7.js (1.6 MB)</p>
                <p><strong>Type:</strong> Lignes (MultiLineString)</p>
                <p><strong>Couleur:</strong> Violet clair</p>
                <ul>
                    <li>‚úÖ Affichage: Lignes √©paisses</li>
                    <li>‚úÖ Style: Cap carr√©, jointure bevel</li>
                    <li>‚úÖ Interaction: Survol (+poids)</li>
                    <li>‚úÖ Popup: Itin√©raire, fr√©quence, rotation</li>
                </ul>
            </div>

            <!-- MOBILIER URBAIN -->
            <div class="guide-card mobilier">
                <h2>üü¢ Mobilier Urbain</h2>
                <p><strong>Fichier:</strong> MobilierUrbain_8.js (3.7 MB)</p>
                <p><strong>Type:</strong> Points (Point)</p>
                <p><strong>Couleur:</strong> Multicolore par type</p>
                <ul>
                    <li>‚úÖ Bac de rue: Rose</li>
                    <li>‚úÖ Caisse Polybenne: Violet</li>
                    <li>‚úÖ PP: Vert</li>
                    <li>‚úÖ PRN: Cyan</li>
                </ul>
            </div>
        </div>

        <h2 style="color: #2d5016; margin: 40px 0 20px; font-size: 24px;">üîç Tableau R√©capitulatif</h2>

        <table class="comparison-table">
            <thead>
                <tr>
                    <th>Layer</th>
                    <th>Type G√©om√©trie</th>
                    <th>Repr√©sentation</th>
                    <th>Couleur</th>
                    <th>Taille Fichier</th>
                    <th>Interactions</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>üü§ R√©gions</strong></td>
                    <td>MultiPolygon</td>
                    <td>Zones remplies</td>
                    <td style="background: rgba(164,113,88,0.3);">Marron</td>
                    <td>1.6 MB</td>
                    <td>Survol, Labels, Popup</td>
                </tr>
                <tr>
                    <td><strong>üü£ D√©partements</strong></td>
                    <td>MultiPolygon</td>
                    <td>Zones remplies</td>
                    <td style="background: rgba(221,51,206,0.3);">Magenta</td>
                    <td>2.5 MB</td>
                    <td>Survol, Popup</td>
                </tr>
                <tr>
                    <td><strong>üü™ Arrondissements</strong></td>
                    <td>MultiPolygon</td>
                    <td>Zones remplies</td>
                    <td style="background: rgba(141,90,153,0.3);">Violet</td>
                    <td>3.6 MB</td>
                    <td>Survol, Popup</td>
                </tr>
                <tr>
                    <td><strong>üî¥ Collecte</strong></td>
                    <td>MultiLineString</td>
                    <td>Lignes √©paisses</td>
                    <td style="background: rgba(196,60,57,0.3);">Rouge</td>
                    <td>5.0 MB</td>
                    <td>Survol, Popup</td>
                </tr>
                <tr>
                    <td><strong>üü£ Balayage</strong></td>
                    <td>MultiLineString</td>
                    <td>Lignes √©paisses</td>
                    <td style="background: rgba(152,125,183,0.3);">Violet clair</td>
                    <td>1.6 MB</td>
                    <td>Survol, Popup</td>
                </tr>
                <tr>
                    <td><strong>üü¢ Mobilier</strong></td>
                    <td>Point</td>
                    <td>Marqueurs circulaires</td>
                    <td style="background: rgba(72,203,81,0.3);">Multicolore</td>
                    <td>3.7 MB</td>
                    <td>Survol, Popup par type</td>
                </tr>
            </tbody>
        </table>

        <div id="map"></div>

        <h2 style="color: #2d5016; margin: 40px 0 20px; font-size: 24px;">üìå Fonctionnalit√©s de la Carte</h2>

        <div class="feature-showcase">
            <div>
                <h3>‚ú® Affichage des R√©gions</h3>
                <div class="mini-legend">
                    ‚Ä¢ <strong>Labels</strong>: Noms au centro√Øde<br>
                    ‚Ä¢ <strong>Fond blanc</strong>: Am√©liore la lisibilit√©<br>
                    ‚Ä¢ <strong>Border vert fonc√©</strong>: Coh√©rence SONAGED<br>
                    ‚Ä¢ <strong>Survol</strong>: Border +1.5px<br>
                    ‚Ä¢ <strong>Popup</strong>: Toutes les propri√©t√©s
                </div>
            </div>
            <div>
                <h3>üî¥ Circuits Collecte</h3>
                <div class="mini-legend">
                    ‚Ä¢ <strong>Lignes rouges</strong>: Code couleur<br>
                    ‚Ä¢ <strong>Style carr√©s</strong>: Terminaisons<br>
                    ‚Ä¢ <strong>Poids: 1.0</strong>: Visibilit√© optimale<br>
                    ‚Ä¢ <strong>Survol</strong>: Poids +1.5<br>
                    ‚Ä¢ <strong>D√©tails</strong>: Fr√©quence, rotation
                </div>
            </div>
            <div>
                <h3>üü£ Circuits Balayage</h3>
                <div class="mini-legend">
                    ‚Ä¢ <strong>Lignes violettes</strong>: Distinction collecte<br>
                    ‚Ä¢ <strong>Style identique</strong>: Coh√©rence<br>
                    ‚Ä¢ <strong>fillOpacity: 0</strong>: Transparent<br>
                    ‚Ä¢ <strong>Survol</strong>: M√™me effet<br>
                    ‚Ä¢ <strong>1.6 MB</strong>: Moins de donn√©es
                </div>
            </div>
            <div>
                <h3>üü¢ Mobilier Urbain</h3>
                <div class="mini-legend">
                    ‚Ä¢ <strong>Points circulaires</strong>: Radius 4px<br>
                    ‚Ä¢ <strong>4 types</strong>: Couleurs distinctes<br>
                    ‚Ä¢ <strong>Rose</strong>: Bac de rue<br>
                    ‚Ä¢ <strong>Violet</strong>: Polybenne<br>
                    ‚Ä¢ <strong>Vert</strong>: PP | <strong>Cyan</strong>: PRN
                </div>
            </div>
        </div>

        <div class="info-banner">
            ‚ÑπÔ∏è <strong>Conseil de navigation:</strong> Utilisez le contr√¥le des couches (‚ò∞) en haut √† droite pour activer/d√©sactiver les couches. Zoomez/d√©zoomez pour voir les d√©tails. Cliquez sur les √©l√©ments pour voir les propri√©t√©s.
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
    <script>
        // Initialiser une mini-carte
        const map = L.map('map').setView([14.5, -14.5], 6);
        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '¬© OpenStreetMap',
            maxZoom: 20
        }).addTo(map);

        // Charger et afficher toutes les couches
        const layers = [
            { name: 'Region_3', color: 'rgba(164,113,88,1.0)' },
            { name: 'Departement_4', color: 'rgba(221,51,206,1.0)' },
            { name: 'Arrondissement_5', color: 'rgba(141,90,153,1.0)' },
            { name: 'CollecteNational_6', color: 'rgba(196,60,57,1.0)' },
            { name: 'BalayageNational_7', color: 'rgba(152,125,183,1.0)' },
            { name: 'MobilierUrbain_8', color: 'rgba(72,203,81,1.0)' }
        ];

        layers.forEach(layer => {
            const script = document.createElement('script');
            script.src = `./data/${layer.name}.js`;
            script.onload = () => {
                const data = window[`json_${layer.name}`];
                if (data) {
                    L.geoJSON(data, {
                        style: { color: layer.color, weight: 1, opacity: 0.6, fillOpacity: 0.4 }
                    }).addTo(map);
                }
            };
            document.head.appendChild(script);
        });
    </script>
</body>
</html>
